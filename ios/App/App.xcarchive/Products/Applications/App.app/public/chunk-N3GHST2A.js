import{A as k,B,J as S,R as O,a as v,c as b,d as _,e as x,f as C,h as r,i as I,j as l,k as m,l as o,m as s,n as p,q as w,r as h,s as g,u as d,w as y}from"./chunk-EEDFN62T.js";import{a as f,b as u}from"./chunk-JHI3MBHO.js";function M(n,e){if(n&1){let c=w();o(0,"button",9),h("click",function(){x(c);let t=g();return C(t.goBack())}),p(1,"img",10),s()}}function j(n,e){n&1&&(o(0,"div",11)(1,"div",12),p(2,"img",13),s(),o(3,"div",14)(4,"strong",15),d(5,"QUATRO"),s(),o(6,"span",16),d(7,"PIZZA"),s()()())}function z(n,e){if(n&1&&(o(0,"div",21),d(1),s()),n&2){let c=g(2);r(),y(" ",c.totalItems," ")}}function N(n,e){if(n&1&&(o(0,"div",17)(1,"button",18),p(2,"img",19),s(),l(3,z,2,1,"div",20),s()),n&2){let c=g();r(3),m("ngIf",c.totalItems>0)}}var D=(()=>{let e=class e{constructor(){this.navController=_(S),this.totalItems=0,this.showBackButton=!1,this.showCartButton=!0,this.showLogo=!0}ngOnInit(){}goBack(){this.navController.back()}openCartPage(){this.navController.navigateForward("/cart-page")}openLoginPage(){this.navController.navigateForward("/login-page")}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=I({type:e,selectors:[["app-nav-bar"]],inputs:{totalItems:"totalItems",showBackButton:"showBackButton",showCartButton:"showCartButton",showLogo:"showLogo"},decls:10,vars:3,consts:[[1,"nav-bar__wrapper"],[1,"nav-bar__container",3,"click"],[1,"left-side"],["class","nav-icon btn",3,"click",4,"ngIf"],["class","logo-name",4,"ngIf"],[1,"nav-bar__btns"],["class","basket-wrapper",4,"ngIf"],[1,"login-icon","btn"],["src","assets/icon/login.svg","alt","",1,"nav-icon"],[1,"nav-icon","btn",3,"click"],["src","assets/icon/arrow-left.svg","alt","Back"],[1,"logo-name"],[1,"icon-logo"],["src","assets/icon/pizza-logo.svg","alt",""],[1,"name-company"],[1,"red-name"],[1,"name-span"],[1,"basket-wrapper"],[1,"basket-icon","btn"],["src","assets/icon/basket.svg","alt","",1,"nav-icon"],["class","basket-counter",4,"ngIf"],[1,"basket-counter"]],template:function(t,a){t&1&&(o(0,"ion-header")(1,"div",0)(2,"div",1),h("click",function(){return a.openCartPage()}),o(3,"div",2),l(4,M,2,0,"button",3),s(),l(5,j,8,0,"div",4),o(6,"div",5),l(7,N,4,1,"div",6),o(8,"button",7),p(9,"img",8),s()()()()()),t&2&&(r(4),m("ngIf",a.showBackButton),r(),m("ngIf",a.showLogo),r(2),m("ngIf",a.showCartButton))},dependencies:[O,B,k],styles:["[_nghost-%COMP%]{background:#f4f4f4}.nav-bar__wrapper[_ngcontent-%COMP%]{padding:16px 24px}.nav-bar__container[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;justify-content:space-between}.logo-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:8px}.name-company[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.red-name[_ngcontent-%COMP%]{font-weight:900;font-size:14px;line-height:120%;letter-spacing:0;color:#e00202}.name-span[_ngcontent-%COMP%]{font-weight:700;font-size:12px;line-height:120%;letter-spacing:6.5px;color:#0a0a0a}.nav-bar__btns[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;align-items:center;justify-content:center}.btn[_ngcontent-%COMP%]{background:none}.nav-icon[_ngcontent-%COMP%]{width:24px;height:24px}.basket-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.basket-counter[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:#e00202;color:#fff;font-size:11px;font-weight:600;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center}"]});let n=e;return n})();var H=(()=>{let e=class e{constructor(){this.items=this.loadCart(),this.cartItemsSubject=new v(this.items),this.cartItems$=this.cartItemsSubject.asObservable()}saveCart(){localStorage.setItem("cart",JSON.stringify(this.items))}loadCart(){let i=localStorage.getItem("cart");return(i?JSON.parse(i):[]).map(a=>u(f({},a),{quantity:a.quantity??1}))}addToCart(i){let t=this.items.find(a=>a.pizzaId===i.pizzaId);t?t.quantity=(t.quantity||0)+1:this.items.push(u(f({},i),{quantity:1})),console.log(this.items),this.cartItemsSubject.next(this.items),this.saveCart()}decreaseItem(i){let t=this.items.find(a=>a.pizzaId===i);t&&(t.quantity=(t.quantity||1)-1,t.quantity<=0&&(this.items=this.items.filter(a=>a.pizzaId!==i)),this.saveCart(),this.cartItemsSubject.next(this.items))}removeItem(i){this.items=this.items.filter(t=>t.pizzaId!==i),this.saveCart(),this.cartItemsSubject.next(this.items)}clearCart(){this.items=[],this.cartItemsSubject.next(this.items),localStorage.removeItem("cart")}getItems(){return this.items}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{D as a,H as b};
